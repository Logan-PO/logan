AWSTemplateFormatVersion : '2010-09-09'
Transform: AWS::Serverless-2016-10-31

Resources:
  ApiGateway:
    Type: AWS::Serverless::Api
    Properties:
      Name: logan-gateway
      StageName: Prod
      Cors:
        AllowOrigin: "'*'"
      EndpointConfiguration:
        Type: EDGE
  GetAssignmentFn:
    Type: AWS::Serverless::Function
    Properties:
      FunctionName: GetAssignment
      Handler: services/backend/src/controllers/assignments-controller.getAssignment
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /assignments/{aid}
            Method: get
            RestApiId:
              Ref: ApiGateway
  GetAssignmentsFn:
    Type: AWS::Serverless::Function
    Properties:
      FunctionName: GetAssignments
      Handler: services/backend/src/controllers/assignments-controller.getAssignments
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /assignments
            Method: get
            RestApiId:
              Ref: ApiGateway
  CreateAssignmentFn:
    Type: AWS::Serverless::Function
    Properties:
      FunctionName: CreateAssignment
      Handler: services/backend/src/controllers/assignments-controller.createAssignment
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /assignments
            Method: post
            RestApiId:
              Ref: ApiGateway
  UpdateAssignmentFn:
    Type: AWS::Serverless::Function
    Properties:
      FunctionName: UpdateAssignment
      Handler: services/backend/src/controllers/assignments-controller.updateAssignment
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /assignments/{aid}
            Method: put
            RestApiId:
              Ref: ApiGateway
  DeleteAssignmentFn:
    Type: AWS::Serverless::Function
    Properties:
      Handler: services/backend/src/controllers/assignments-controller.deleteAssignment
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      FunctionName: DeleteAssignment
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /assignments/{aid}
            Method: delete
            RestApiId:
              Ref: ApiGateway
  GetTaskFn:
    Type: AWS::Serverless::Function
    Properties:
      FunctionName: GetTask
      Handler: services/backend/src/controllers/tasks-controller.getTask
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /tasks/{tid}
            Method: get
            RestApiId:
              Ref: ApiGateway
  GetTasksFn:
    Type: AWS::Serverless::Function
    Properties:
      FunctionName: GetTasks
      Handler: services/backend/src/controllers/tasks-controller.getTasks
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /tasks
            Method: get
            RestApiId:
              Ref: ApiGateway
  CreateTaskFn:
    Type: AWS::Serverless::Function
    Properties:
      FunctionName: CreateTask
      Handler: services/backend/src/controllers/tasks-controller.createTask
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /tasks
            Method: post
            RestApiId:
              Ref: ApiGateway
  UpdateTaskFn:
    Type: AWS::Serverless::Function
    Properties:
      FunctionName: UpdateTask
      Handler: services/backend/src/controllers/tasks-controller.updateTask
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /tasks/{tid}
            Method: put
            RestApiId:
              Ref: ApiGateway
  DeleteTaskFn:
    Type: AWS::Serverless::Function
    Properties:
      Handler: services/backend/src/controllers/tasks-controller.deleteTask
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      FunctionName: DeleteTask
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /tasks/{tid}
            Method: delete
            RestApiId:
              Ref: ApiGateway
  GetCourseFn:
    Type: AWS::Serverless::Function
    Properties:
      FunctionName: GetCourse
      Handler: services/backend/src/controllers/courses-controller.getCourse
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /courses/{cid}
            Method: get
            RestApiId:
              Ref: ApiGateway
  GetCoursesFn:
    Type: AWS::Serverless::Function
    Properties:
      FunctionName: GetCourses
      Handler: services/backend/src/controllers/courses-controller.getCourses
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /courses
            Method: get
            RestApiId:
              Ref: ApiGateway
  CreateCourseFn:
    Type: AWS::Serverless::Function
    Properties:
      FunctionName: CreateCourse
      Handler: services/backend/src/controllers/courses-controller.createCourse
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /courses
            Method: post
            RestApiId:
              Ref: ApiGateway
  UpdateCourseFn:
    Type: AWS::Serverless::Function
    Properties:
      FunctionName: UpdateCourse
      Handler: services/backend/src/controllers/courses-controller.updateCourse
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /courses/{cid}
            Method: put
            RestApiId:
              Ref: ApiGateway
  DeleteCourseFn:
    Type: AWS::Serverless::Function
    Properties:
      Handler: services/backend/src/controllers/courses-controller.deleteCourse
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      FunctionName: DeleteCourse
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /courses/{cid}
            Method: delete
            RestApiId:
              Ref: ApiGateway
  GetRemindersFn:
    Type: AWS::Serverless::Function
    Properties:
      FunctionName: GetReminders
      Handler: services/backend/src/controllers/reminders-controller.getReminders
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /reminders
            Method: get
            RestApiId:
              Ref: ApiGateway
  CreateReminderFn:
    Type: AWS::Serverless::Function
    Properties:
      FunctionName: CreateReminder
      Handler: services/backend/src/controllers/reminders-controller.createReminder
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /reminders
            Method: post
            RestApiId:
              Ref: ApiGateway
  UpdateReminderFn:
    Type: AWS::Serverless::Function
    Properties:
      FunctionName: UpdateReminder
      Handler: services/backend/src/controllers/reminders-controller.updateReminder
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /reminders/{rid}
            Method: put
            RestApiId:
              Ref: ApiGateway
  DeleteReminderFn:
    Type: AWS::Serverless::Function
    Properties:
      Handler: services/backend/src/controllers/reminders-controller.deleteReminder
      Role: arn:aws:iam::417995070141:role/LoganLambdaRole
      FunctionName: DeleteReminder
      Runtime: nodejs12.x
      Events:
        ApiEvent:
          Type: Api
          Properties:
            Path: /reminders/{rid}
            Method: delete
            RestApiId:
              Ref: ApiGateway